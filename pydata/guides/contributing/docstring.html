
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>SymPy Docstrings Style Guide &#8212; SymPy 1.11.dev documentation</title>
    
    <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/pydata-sphinx-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    
    <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/sympy-notailtext-favicon.ico"/>
    <link href="https://docs.sympy.org/latest/guides/contributing/docstring.html" rel="canonical" />
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="General Guidelines" href="documentation-style-guide.html" />
    <link rel="prev" title="Debugging" href="debug.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/sympylogo.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../tutorial/index.html">
  SymPy Tutorial
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  SymPy Guides
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../explanation/index.html">
  Explanation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../reference/index.html">
  Reference Documentation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../miscellaneous/index.html">
  Miscellaneous
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../getting_started/index.html">
   Getting Started
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../getting_started/install.html">
     Installation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Contributing to SymPy
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="dev-setup.html">
     Development Environment Setup
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dependencies.html">
     Dependencies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="build-docs.html">
     Build the Documentation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="debug.html">
     Debugging
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     SymPy Docstrings Style Guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="documentation-style-guide.html">
     General Guidelines
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="make-a-contribution.html">
     Making a Contribution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="deprecations.html">
     Deprecation Policy
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assumptions.html">
   Assumptions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../booleans.html">
   Symbolic and fuzzy booleans
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#general-guidelines">
   General Guidelines
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#formatting">
   Formatting
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sections">
   Sections
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#single-sentence-summary">
     1. Single-Sentence Summary
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#explanation-section">
     2. Explanation Section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#examples-section">
     3. Examples Section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parameters-section">
     4. Parameters Section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#see-also-section">
     5. See Also Section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#references-section">
     6. References Section
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sample-docstring">
   Sample Docstring
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#docstrings-for-classes-that-are-mathematical-functions">
   Docstrings for Classes that are Mathematical Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#best-practices-for-writing-docstrings">
   Best Practices for Writing Docstrings
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importing-docstrings-into-the-sphinx-documentation">
   Importing Docstrings into the Sphinx Documentation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cross-referencing">
   Cross-Referencing
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="sympy-docstrings-style-guide">
<span id="style-guide-docstring-guidelines"></span><h1>SymPy Docstrings Style Guide<a class="headerlink" href="#sympy-docstrings-style-guide" title="Permalink to this headline">¶</a></h1>
<section id="general-guidelines">
<h2>General Guidelines<a class="headerlink" href="#general-guidelines" title="Permalink to this headline">¶</a></h2>
<p>To contribute to SymPy’s docstrings, please read these guidelines in full.</p>
<p>A documentation string (docstring) is a string literal that occurs as the first
statement in a module, function, class, or method definition. Such a docstring
becomes the <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> special attribute of that object.</p>
<p><strong>Example</strong></p>
<p>Here is a basic docstring:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fdiff</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argindex</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the first derivative of a Heaviside Function.</span>

<span class="sd">    Examples</span>
<span class="sd">    ========</span>

<span class="sd">    &gt;&gt;&gt; from sympy import Heaviside, diff</span>
<span class="sd">    &gt;&gt;&gt; from sympy.abc import x</span>

<span class="sd">    &gt;&gt;&gt; Heaviside(x).fdiff()</span>
<span class="sd">    DiracDelta(x)</span>

<span class="sd">    &gt;&gt;&gt; Heaviside(x**2 - 1).fdiff()</span>
<span class="sd">    DiracDelta(x**2 - 1)</span>

<span class="sd">    &gt;&gt;&gt; diff(Heaviside(x)).fdiff()</span>
<span class="sd">    DiracDelta(x, 1)</span>

<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Every public function, class, method, and module should have a docstring that
describes what it does. Documentation that is specific to a function or class
in the module should be in the docstring of that function or class. The module
level docstring should discuss the purpose and scope of the module, and give a
high-level example of how to use the functions or classes in the module. A
module docstring is the docstring at the very top of the file, for example, the
docstring for <a class="reference external" href="https://github.com/sympy/sympy/blob/85e684f782c71d247b13af71f2f134a9d894507e/sympy/solvers/ode.py">solvers.ode</a>.</p>
<p>A public function is one that is intended to be used by the end-
user, or the public. Documentation is important for public functions because
they will be seen and used by many people.</p>
<p>A private function, on the other hand, is one that is only intended to be used
in the code in SymPy itself. Although it is less important to document private
functions, it also helps to have docstrings on private functions to help other
SymPy developers understand how to use the function.</p>
<p>It may not always be clear what is a public function and what is a private
function. If a function begins with an underscore, it is private, and if a
function is included in <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> it is public, but the converse is not
always true, so sometimes you have to decide based on context. In general, if
you are unsure, having documentation on a function is better than not having
documentation, regardless if it is public or private.</p>
<p>Docstrings should contain information aimed at users of the function. Comments
specific to the code or other notes that would only distract users should go in
comments in the code, not in docstrings.</p>
<p>Every docstring should have examples that show how the function works. Examples
are the most important part of a docstring. A single example showing input and
output to a function can be more helpful than a paragraph of descriptive text.</p>
<p>Remember that the primary consumers of docstrings are other human beings, not
machines, so it is important to describe what the function does in plain
English. Likewise, examples of how to use the function should be designed for
human readers, not just for the doctest machinery.</p>
<p>Keep in mind that while Sphinx is the primary way users consume docstrings, and
therefore the first platform to keep in mind while writing docstrings
(especially for public functions), it is not the only way users consume
docstrings. You can also view docstrings using <code class="docutils literal notranslate"><span class="pre">help()</span></code> or <code class="docutils literal notranslate"><span class="pre">?</span></code> in IPython.
When using <code class="docutils literal notranslate"><span class="pre">help()</span></code>, for instance, it will show you all of the docstrings on
private methods. Additionally, anyone reading the source code directly will see
every docstring.</p>
<p>All public functions, classes, and methods and their corresponding docstrings
should be imported into the Sphinx docs, instructions on which can be found at
the end of this guide.</p>
</section>
<section id="formatting">
<span id="style-guide-docstring-formatting"></span><h2>Formatting<a class="headerlink" href="#formatting" title="Permalink to this headline">¶</a></h2>
<p>Docstrings are are written in <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> format extended by <a class="reference external" href="http://www.sphinx-doc.org/en/master/">Sphinx</a>. Here is a concise guide to <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html">Quick
reStructuredText</a>. More in-depth
information about using reStructuredText can be found in the <a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/restructuredtext/index.html">Sphinx
Documentation</a>.</p>
<p>In order for Sphinx to render docstrings nicely in the HTML documentation, some
formatting guidelines should be followed when writing docstrings:</p>
<ul class="simple">
<li><p>Always use “””triple double quotes””” around docstrings. Use r”””raw triple
double quotes””” if you use any backslashes in your docstrings.</p></li>
<li><p>Include a blank line before the docstring’s closing quotes.</p></li>
<li><p>Lines should not be longer than 80 characters.</p></li>
<li><p>Always write class-level docstrings under the class definition line, as that
is better to read in the source code.</p></li>
<li><p>The various methods on the class can be mentioned in the docstring or
examples if they are important, but details on them should go in the
docstring for the method itself.</p></li>
<li><p>Be aware that :: creates code blocks, which are rarely used in the
docstrings. Any code example with example Python should be put in a doctest.
Always check that the final version as rendered by Sphinx looks correct in
the HTML.</p></li>
<li><p>In order to make section underlining work nicely in docstrings, <a class="reference external" href="https://pypi.org/project/numpydoc/">numpydoc
Sphinx extension</a> is used.</p></li>
<li><p>Always double check that you have formatted your docstring correctly:</p></li>
</ul>
<ol class="arabic simple">
<li><p>Make sure that your docstring is imported into Sphinx.</p></li>
<li><p>Build the Sphinx docs (<code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">doc;</span> <span class="pre">make</span> <span class="pre">html</span></code>).</p></li>
<li><p>Make sure that Sphinx doesn’t output any errors.</p></li>
<li><p>Open the page in <code class="docutils literal notranslate"><span class="pre">_build/html</span></code> and make sure that it is formatted
correctly.</p></li>
</ol>
</section>
<section id="sections">
<h2>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h2>
<p>In SymPy’s docstrings, it is preferred that function, class, and method
docstrings consist of the following sections in this order:</p>
<ol class="arabic simple">
<li><p>Single-Sentence Summary</p></li>
<li><p>Explanation</p></li>
<li><p>Examples</p></li>
<li><p>Parameters</p></li>
<li><p>See Also</p></li>
<li><p>References</p></li>
</ol>
<p>The Single-Sentence Summary and Examples sections are <strong>required</strong> for every
docstring. Docstrings will not pass review if these sections are not included.</p>
<p>Do not change the names of these supported sections, for example, the heading
“Examples” as a plural should be used even if there is only one example.</p>
<p>SymPy will continue to support all of the section headings listed in the <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">NumPy
Docstring Guide</a>.</p>
<p>Headings should be underlined with the same length in equals signs.</p>
<p>If a section is not required and that information for the function in question
is unnecessary, do not use it. Unnecessary sections and cluttered docstrings
can make a function harder to understand. Aim for the minimal amount of
information required to understand the function.</p>
<section id="single-sentence-summary">
<h3>1. Single-Sentence Summary<a class="headerlink" href="#single-sentence-summary" title="Permalink to this headline">¶</a></h3>
<p>This section is <strong>required</strong> for every docstring. A docstring will not pass
review if it is not included. No heading is necessary for this section.</p>
<p>This section consists of a one-line sentence ending in a period that describes
the function, class, or method’s effect.</p>
<p>Deprecation warnings should go directly after the Single-Sentence Summary, so
as to notify users right away. Deprecation warnings should be written as a <code class="docutils literal notranslate"><span class="pre">deprecated</span></code>
in the Sphinx directive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>.. deprecated:: 1.1

   The ``simplify_this`` function is deprecated. Use :func:`simplify`
   instead. See its documentation for more information.
</pre></div>
</div>
<p>See <a class="reference internal" href="deprecations.html#deprecation-documentation"><span class="std std-ref">Documenting a deprecation</span></a> for more details.</p>
</section>
<section id="explanation-section">
<h3>2. Explanation Section<a class="headerlink" href="#explanation-section" title="Permalink to this headline">¶</a></h3>
<p>This section is encouraged. If you choose to include an Explanation section in
your docstring, it should be labeled with the heading “Explanation” underlined
with the same length in equals signs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Explanation</span>
<span class="o">===========</span>
</pre></div>
</div>
<p>This section consists of a more elaborate description of what the function,
class, or method does when the concise Single-Sentence Summary will not
suffice. This section should be used to clarify functionality in several
sentences or paragraphs.</p>
</section>
<section id="examples-section">
<h3>3. Examples Section<a class="headerlink" href="#examples-section" title="Permalink to this headline">¶</a></h3>
<p>This section is <strong>required</strong> for every docstring. A docstring will not pass
review if it is not included. It should be labeled with the heading “Examples”
(even if there is only one example) underlined with the same length in equals
signs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Examples</span>
<span class="o">========</span>
</pre></div>
</div>
<p>This section consists of examples that show how the function works, called
doctests. Doctests should be complicated enough that they fully demonstrate the
API and functionality of the function, but simple enough that a user can
understand them without too much thought. The perfect doctest tells the user
exactly what they need to know about the function without reading any other
part of the docstring.</p>
<p>There should always be a blank line before the doctest. When multiple examples
are provided, they should be separated by blank lines. Comments explaining the
examples should have blank lines both above and below them.</p>
<p>Do not think of doctests as tests. Think of them as examples that happen to be
tested. They should demonstrate the API of the function to the user (i.e., what
the input parameters look like, what the output looks like, and what it does).
If you only want to test something, add a test to the relevant <code class="docutils literal notranslate"><span class="pre">test_*.py</span> <span class="pre">file</span></code>.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">./bin/coverage_doctest.py</span></code> script to test the doctest
coverage of a file or module. Run the doctests with <code class="docutils literal notranslate"><span class="pre">./bin/doctest</span></code>.</p>
<p>You should only skip the testing of an example if it is impossible to test it.
If necessary, testing of an example can be skipped by adding a special comment.</p>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>      
<span class="go">0.6868680200532414</span>
</pre></div>
</div>
<p>If an example is longer than 80 characters, it should be line wrapped. Examples
should be line wrapped so that they are still valid Python code, using <code class="docutils literal notranslate"><span class="pre">...</span></code>
continuation as in a Python prompt. For example, from the ODE module
documentation:</p>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Function</span><span class="p">,</span> <span class="n">dsolve</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dsolve</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
<span class="gp">... </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">hint</span><span class="o">=</span><span class="s1">&#39;1st_exact&#39;</span><span class="p">)</span>
<span class="go">Eq(x*cos(f(x)) + f(x)**3/3, C1)</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">dsolve(cos(f(x))</span> <span class="pre">-</span> <span class="pre">(x*sin(f(x))</span> <span class="pre">-</span> <span class="pre">f(x)**2)*f(x).diff(x),</span> <span class="pre">f(x),</span> <span class="pre">hint='1st_exact')</span></code> is too long, so we line break it after a comma so that it
is readable, and put <code class="docutils literal notranslate"><span class="pre">...</span></code> on the continuation lines. If this is not done
correctly, the doctests will fail.</p>
<p>The output of a command can also be line wrapped. No <code class="docutils literal notranslate"><span class="pre">...</span></code> should be used in
this case. The doctester automatically accepts output that is line wrapped.</p>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,</span>
<span class="go">21, 22, 23, 24, 25, 26, 27, 28, 29]</span>
</pre></div>
</div>
<p>In a doctest, write imports like <code class="docutils literal notranslate"><span class="pre">sympy</span> <span class="pre">import</span> <span class="pre">...</span></code> instead of <code class="docutils literal notranslate"><span class="pre">import</span>
<span class="pre">sympy</span></code> or <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">sympy</span> <span class="pre">import</span> <span class="pre">*</span></code>. To define symbols, use <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">sympy.abc</span>
<span class="pre">import</span> <span class="pre">x</span></code>, unless the name is not in <code class="docutils literal notranslate"><span class="pre">sympy.abc</span></code> (for instance, if it has
assumptions), in which case use <code class="docutils literal notranslate"><span class="pre">symbols</span></code> like <code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">symbols('x</span> <span class="pre">y')</span></code>.</p>
<p>In general, you should run <code class="docutils literal notranslate"><span class="pre">./bin/doctest</span></code> to make sure your examples run
correctly, and fix them if they do not.</p>
</section>
<section id="parameters-section">
<h3>4. Parameters Section<a class="headerlink" href="#parameters-section" title="Permalink to this headline">¶</a></h3>
<p>This section is encouraged. If you choose to include a Parameters section in
your docstring, it should be labeled with the heading “Parameters” underlined
with the same length in equals signs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Parameters</span>
<span class="o">==========</span>
</pre></div>
</div>
<p>If you have parameters listed in parentheses after a function, class, or method
name, you must include a parameters section.</p>
<p>This section consists of descriptions of the function arguments, keywords, and
their respective types.</p>
<p>Enclose variables in double backticks. The colon must be preceded by a space,
or omitted if the type is absent. For the parameter types, be as precise as
possible. If it is not necessary to specify a keyword argument, use
<code class="docutils literal notranslate"><span class="pre">optional</span></code>. Optional keyword parameters have default values, which are
displayed as part of the function signature. They can also be detailed in the
description.</p>
<p>When a parameter can only assume one of a fixed set of values, those values can
be listed in braces, with the default appearing first. When two or more input
parameters have exactly the same type, shape, and description, they can be
combined.</p>
<p>If the Parameters section is not formatted correctly, the documentation build
will render incorrectly.</p>
<p>If you wish to include a Returns section, write it as its own section with its
own heading.</p>
<p><strong>Example</strong></p>
<p>Here is an example of a correctly formatted Parameters section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">opt_cse</span><span class="p">(</span><span class="n">exprs</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;canonical&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Find optimization opportunities in Adds, Muls, Pows and negative</span>
<span class="sd">    coefficient Muls.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ==========</span>

<span class="sd">    exprs : list of sympy expressions</span>
<span class="sd">        The expressions to optimize.</span>
<span class="sd">    order : string, &#39;none&#39; or &#39;canonical&#39;</span>
<span class="sd">        The order by which Mul and Add arguments are processed. For large</span>
<span class="sd">        expressions where speed is a concern, use the setting order=&#39;none&#39;.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="see-also-section">
<span id="style-guide-see-also"></span><h3>5. See Also Section<a class="headerlink" href="#see-also-section" title="Permalink to this headline">¶</a></h3>
<p>This section is encouraged. If you choose to include a See Also section in your
docstring, it should be labeled with the heading “See Also” underlined with the
same length in equals signs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">See</span> <span class="n">Also</span>
<span class="o">========</span>
</pre></div>
</div>
<p>This section consists of a listing of related functions, classes, and methods.
The related items can be described with a concise fragment (not a full
sentence) if desired, but this is not required. If the description spans more
than one line, subsequent lines must be indented.</p>
<p>The See Also section should only be used to reference other SymPy objects.
Anything that is a link should be embedded as a hyperlink in the text of the
docstring instead; see the References section for details.</p>
<p>Do not reference classes with <code class="docutils literal notranslate"><span class="pre">class:Classname</span></code>, <code class="docutils literal notranslate"><span class="pre">class:`Classname`</span></code>, or
<code class="docutils literal notranslate"><span class="pre">:class:`Classname`</span></code>, but rather only by their class name.</p>
<p><strong>Examples</strong></p>
<p>Here is a correctly formatted See Also section with concise descriptions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">erf</span><span class="p">(</span><span class="n">Function</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Gauss error function.</span>

<span class="sd">    See Also</span>
<span class="sd">    ========</span>

<span class="sd">    erfc: Complementary error function.</span>
<span class="sd">    erfi: Imaginary error function.</span>
<span class="sd">    erf2: Two-argument error function.</span>
<span class="sd">    erfinv: Inverse error function.</span>
<span class="sd">    erfcinv: Inverse Complementary error function.</span>
<span class="sd">    erf2inv: Inverse two-argument error function.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Here is a correctly formatted See Also section with just a list of names:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">besselj</span><span class="p">(</span><span class="n">BesselBase</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Bessel function of the first kind.</span>

<span class="sd">    See Also</span>
<span class="sd">    ========</span>

<span class="sd">    bessely, besseli, besselk</span>

<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="references-section">
<h3>6. References Section<a class="headerlink" href="#references-section" title="Permalink to this headline">¶</a></h3>
<p>This section is encouraged. If you choose to include a References section in
your docstring, it should be labeled with the heading “References” underlined
with the same length in equals signs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">References</span>
<span class="o">==========</span>
</pre></div>
</div>
<p>This section consists of a list of references cited anywhere in the previous
sections. Any reference to other SymPy objects should go in the See Also
section instead.</p>
<p>The References section should include online resources, paper citations, and/or
any other printed resource giving general information about the function.
References are meant to augment the docstring, but should not be required to
understand it. References are numbered, starting from one, in the order in
which they are cited.</p>
<p>For online resources, only link to freely accessible and stable online
resources such as Wikipedia, Wolfram MathWorld, and the NIST Digital Library of
Mathematical Functions (DLMF), which are unlikely to suffer from hyperlink rot.</p>
<p>References for papers should include, in this order: reference citation, author
name, title of work, journal or publication, year published, page number.</p>
<p>If there is a DOI (Digital Object Identifier), include it in the citation and
make sure it is a clickable hyperlink.</p>
<p><strong>Examples</strong></p>
<p>Here is a References section that cites a printed resource:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">References</span>
<span class="o">==========</span>

<span class="o">..</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">[</span><span class="n">Kozen89</span><span class="p">]</span> <span class="n">D</span><span class="o">.</span> <span class="n">Kozen</span><span class="p">,</span> <span class="n">S</span><span class="o">.</span> <span class="n">Landau</span><span class="p">,</span> <span class="n">Polynomial</span> <span class="n">Decomposition</span> <span class="n">Algorithms</span><span class="p">,</span>
       <span class="n">Journal</span> <span class="n">of</span> <span class="n">Symbolic</span> <span class="n">Computation</span> <span class="mi">7</span> <span class="p">(</span><span class="mi">1989</span><span class="p">),</span> <span class="n">pp</span><span class="o">.</span> <span class="mi">445</span><span class="o">-</span><span class="mi">456</span>
</pre></div>
</div>
<p>Here is a References section that cites printed and online resources:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">References</span>
<span class="o">==========</span>

<span class="o">..</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">Abramowitz</span><span class="p">,</span> <span class="n">Milton</span><span class="p">;</span> <span class="n">Stegun</span><span class="p">,</span> <span class="n">Irene</span> <span class="n">A</span><span class="o">.</span><span class="p">,</span> <span class="s2">&quot;Chapter 9,&quot;</span> <span class="n">Handbook</span> <span class="n">of</span>
       <span class="n">Mathematical</span> <span class="n">Functions</span> <span class="k">with</span> <span class="n">Formulas</span><span class="p">,</span> <span class="n">Graphs</span><span class="p">,</span> <span class="ow">and</span> <span class="n">Mathematical</span>
       <span class="n">Tables</span><span class="p">,</span> <span class="n">eds</span><span class="o">.</span> <span class="p">(</span><span class="mi">1965</span><span class="p">)</span>
<span class="o">..</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="n">Luke</span><span class="p">,</span> <span class="n">Y</span><span class="o">.</span> <span class="n">L</span><span class="o">.</span><span class="p">,</span> <span class="n">The</span> <span class="n">Special</span> <span class="n">Functions</span> <span class="ow">and</span> <span class="n">Their</span> <span class="n">Approximations</span><span class="p">,</span>
       <span class="n">Volume</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">1969</span><span class="p">)</span>
<span class="o">..</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">en</span><span class="o">.</span><span class="n">wikipedia</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">wiki</span><span class="o">/</span><span class="n">Bessel_function</span>
<span class="o">..</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">functions</span><span class="o">.</span><span class="n">wolfram</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Bessel</span><span class="o">-</span><span class="n">TypeFunctions</span><span class="o">/</span><span class="n">BesselJ</span><span class="o">/</span>
</pre></div>
</div>
</section>
</section>
<section id="sample-docstring">
<h2>Sample Docstring<a class="headerlink" href="#sample-docstring" title="Permalink to this headline">¶</a></h2>
<p>Here is an example of a correctly formatted docstring:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">gamma</span><span class="p">(</span><span class="n">Function</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The gamma function</span>

<span class="sd">    .. math::</span>
<span class="sd">       \Gamma(x) := \int^{\infty}_{0} t^{x-1} e^{-t} \mathrm{d}t.</span>

<span class="sd">    Explanation</span>
<span class="sd">    ===========</span>

<span class="sd">    The ``gamma`` function implements the function which passes through the</span>
<span class="sd">    values of the factorial function (i.e., $\Gamma(n) = (n - 1)!$), when n</span>
<span class="sd">    is an integer. More generally, $\Gamma(z)$ is defined in the whole</span>
<span class="sd">    complex plane except at the negative integers where there are simple</span>
<span class="sd">    poles.</span>

<span class="sd">    Examples</span>
<span class="sd">    ========</span>

<span class="sd">    &gt;&gt;&gt; from sympy import S, I, pi, oo, gamma</span>
<span class="sd">    &gt;&gt;&gt; from sympy.abc import x</span>

<span class="sd">    Several special values are known:</span>

<span class="sd">    &gt;&gt;&gt; gamma(1)</span>
<span class="sd">    1</span>
<span class="sd">    &gt;&gt;&gt; gamma(4)</span>
<span class="sd">    6</span>
<span class="sd">    &gt;&gt;&gt; gamma(S(3)/2)</span>
<span class="sd">    sqrt(pi)/2</span>

<span class="sd">    The ``gamma`` function obeys the mirror symmetry:</span>

<span class="sd">    &gt;&gt;&gt; from sympy import conjugate</span>
<span class="sd">    &gt;&gt;&gt; conjugate(gamma(x))</span>
<span class="sd">    gamma(conjugate(x))</span>

<span class="sd">    Differentiation with respect to $x$ is supported:</span>

<span class="sd">    &gt;&gt;&gt; from sympy import diff</span>
<span class="sd">    &gt;&gt;&gt; diff(gamma(x), x)</span>
<span class="sd">    gamma(x)*polygamma(0, x)</span>

<span class="sd">    Series expansion is also supported:</span>

<span class="sd">    &gt;&gt;&gt; from sympy import series</span>
<span class="sd">    &gt;&gt;&gt; series(gamma(x), x, 0, 3)</span>
<span class="sd">    1/x - EulerGamma + x*(EulerGamma**2/2 + pi**2/12) + x**2*(-EulerGamma*pi**2/12 +</span>
<span class="sd">    polygamma(2, 1)/6 - EulerGamma**3/6) + O(x**3)</span>

<span class="sd">    We can numerically evaluate the ``gamma`` function to arbitrary</span>
<span class="sd">    precision on the whole complex plane:</span>

<span class="sd">    &gt;&gt;&gt; gamma(pi).evalf(40)</span>
<span class="sd">    2.288037795340032417959588909060233922890</span>
<span class="sd">    &gt;&gt;&gt; gamma(1+I).evalf(20)</span>
<span class="sd">    0.49801566811835604271 - 0.15494982830181068512*I</span>

<span class="sd">    See Also</span>
<span class="sd">    ========</span>

<span class="sd">    lowergamma: Lower incomplete gamma function.</span>
<span class="sd">    uppergamma: Upper incomplete gamma function.</span>
<span class="sd">    polygamma: Polygamma function.</span>
<span class="sd">    loggamma: Log Gamma function.</span>
<span class="sd">    digamma: Digamma function.</span>
<span class="sd">    trigamma: Trigamma function.</span>
<span class="sd">    beta: Euler Beta function.</span>

<span class="sd">    References</span>
<span class="sd">    ==========</span>

<span class="sd">    .. [1] https://en.wikipedia.org/wiki/Gamma_function</span>
<span class="sd">    .. [2] http://dlmf.nist.gov/5</span>
<span class="sd">    .. [3] http://mathworld.wolfram.com/GammaFunction.html</span>
<span class="sd">    .. [4] http://functions.wolfram.com/GammaBetaErf/Gamma/</span>

<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="docstrings-for-classes-that-are-mathematical-functions">
<h2>Docstrings for Classes that are Mathematical Functions<a class="headerlink" href="#docstrings-for-classes-that-are-mathematical-functions" title="Permalink to this headline">¶</a></h2>
<p>SymPy is unusual in that it also has classes that are mathematical functions.
The docstrings for classes that are mathematical functions should include
details specific to this kind of class, as noted below:</p>
<ul class="simple">
<li><p>The Explanation section should include a mathematical definition of the
function. This should use LaTeX math. Use $$ for <a class="reference internal" href="documentation-style-guide.html#style-guide-math-formatting"><span class="std std-ref">inline math</span></a> and .. math:: for display math, which should be
used for the main definition. The variable names in the formulas should match
the names of the parameters, and the LaTeX formatting should match the LaTeX
pretty printing used by SymPy. As relevant, the mathematical definitions
should mention their domain of definition, especially if the domain is
different from the complex numbers.</p></li>
<li><p>If there are multiple conventions in the literature for a function, make sure
to clearly specify which convention SymPy uses.</p></li>
<li><p>The Explanation section may also include some important mathematical facts
about the function. These can alternately be demonstrated in the Examples
section. Mathematical discussions should not be too long, as users can check
the references for more details.</p></li>
<li><p>The docstring does not need to discuss every implementation detail such as at
which operations are defined on the function or at which points it evaluates
in the “eval” method. Important or illuminating instances of these can be
shown in the Examples section.</p></li>
<li><p>The docstring should go on the class level (right under the line that has
“class”). The “eval” method should not have a docstring.</p></li>
<li><p>Private methods on the class, that is, any method that starts with an
underscore, do not need to be documented. They can still be documented if you
like, but note that these docstrings are not pulled into the Sphinx
documentation, so they will only be seen by developers who are reading the
code, so if there is anything very important that you want to mention here,
it should go in the class-level docstring as well.</p></li>
</ul>
</section>
<section id="best-practices-for-writing-docstrings">
<h2>Best Practices for Writing Docstrings<a class="headerlink" href="#best-practices-for-writing-docstrings" title="Permalink to this headline">¶</a></h2>
<p>When writing docstrings, please follow all of the same formatting, style, and
tone preferences as when writing narrative documentation. For guidelines, see
<a class="reference internal" href="documentation-style-guide.html#style-guide-best-practices-for-writing-documentation"><span class="std std-ref">Best Practices for Writing Documentation</span></a>, Formatting, Style, and
Tone.</p>
</section>
<section id="importing-docstrings-into-the-sphinx-documentation">
<h2>Importing Docstrings into the Sphinx Documentation<a class="headerlink" href="#importing-docstrings-into-the-sphinx-documentation" title="Permalink to this headline">¶</a></h2>
<p>Here are excerpts from the <code class="docutils literal notranslate"><span class="pre">doc/src/modules/geometry</span></code> directory that imports the
relevant docstrings from geometry module into documentation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Utils</span>
<span class="o">=====</span>

<span class="o">..</span> <span class="n">module</span><span class="p">::</span> <span class="n">sympy</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">util</span>

<span class="o">..</span> <span class="n">autofunction</span><span class="p">::</span> <span class="n">intersection</span>

<span class="o">..</span> <span class="n">autofunction</span><span class="p">::</span> <span class="n">convex_hull</span>

<span class="o">..</span> <span class="n">autofunction</span><span class="p">::</span> <span class="n">are_similar</span>

<span class="n">Points</span>
<span class="o">======</span>

<span class="o">..</span> <span class="n">module</span><span class="p">::</span> <span class="n">sympy</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">point</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">Point</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="n">Lines</span>
<span class="o">=====</span>

<span class="o">..</span> <span class="n">module</span><span class="p">::</span> <span class="n">sympy</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">line</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">LinearEntity</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">Line</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">Ray</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">Segment</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="n">Curves</span>
<span class="o">======</span>

<span class="o">..</span> <span class="n">module</span><span class="p">::</span> <span class="n">sympy</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">curve</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">Curve</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="n">Ellipses</span>
<span class="o">========</span>

<span class="o">..</span> <span class="n">module</span><span class="p">::</span> <span class="n">sympy</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">ellipse</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">Ellipse</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">Circle</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="n">Polygons</span>
<span class="o">========</span>

<span class="o">..</span> <span class="n">module</span><span class="p">::</span> <span class="n">sympy</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">polygon</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">Polygon</span>
  <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">RegularPolygon</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">Triangle</span>
   <span class="p">:</span><span class="n">members</span><span class="p">:</span>
</pre></div>
</div>
<p>First namespace is set to particular submodule (file) with <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">module::</span></code>
directive, then docstrings are imported with <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">autoclass::</span></code> or <code class="docutils literal notranslate"><span class="pre">..</span>
<span class="pre">autofunction::</span></code> relative to that submodule (file). Other methods are either
cumbersome to use (using full paths for all objects) or break something
(importing relative to main module using <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">module::</span> <span class="pre">sympy.geometry</span></code> breaks
viewcode Sphinx extension). All files in <code class="docutils literal notranslate"><span class="pre">doc/src/modules/</span></code> should use this
format.</p>
</section>
<section id="cross-referencing">
<span id="style-guide-cross-referencing"></span><h2>Cross-Referencing<a class="headerlink" href="#cross-referencing" title="Permalink to this headline">¶</a></h2>
<p>Any text that references another SymPy function should be formatted so that a
cross-reference link to that function’s documentation is created automatically.
This is done using the RST cross-reference syntax. There are two different kinds
of objects that have conventions here:</p>
<p>1. Objects that are included in <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">sympy</span> <span class="pre">import</span> <span class="pre">*</span></code>, for example,
<code class="docutils literal notranslate"><span class="pre">sympy.acos</span></code>.</p>
<p>For these, use <code class="docutils literal notranslate"><span class="pre">:obj:`~.acos()`</span></code>. The <code class="docutils literal notranslate"><span class="pre">~</span></code> makes it so that
the text in the rendered HTML only shows <code class="docutils literal notranslate"><span class="pre">acos</span></code>. Without it, it would use the
fully qualified name <code class="docutils literal notranslate"><span class="pre">sympy.functions.elementary.trigonometric.acos</span></code>. However,
for names that are part of the global <code class="docutils literal notranslate"><span class="pre">sympy</span></code> namespace, we do not want to
encourage accessing them from their specific submodule, as this is an
implementation detail that could change. The <code class="docutils literal notranslate"><span class="pre">.</span></code> makes it so that the function
name is found automatically. Sometimes, Sphinx will give a warning that there
are multiple names found. If that happens, replace the <code class="docutils literal notranslate"><span class="pre">.</span></code> with the full name.
For example, <code class="docutils literal notranslate"><span class="pre">:obj:`~sympy.solvers.solvers.solve()`</span></code>. For functions, methods,
and classes, it is a convention to add () after the name to indicate such.</p>
<p>You may also use a more specific type indicator instead of <code class="docutils literal notranslate"><span class="pre">obj</span></code> (see
<a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cross-referencing-python-objects">https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cross-referencing-python-objects</a>).
However, <code class="docutils literal notranslate"><span class="pre">obj</span></code> will always work, and sometimes SymPy names are not the type
you might expect them to be. For example, mathematical function objects such as
<code class="docutils literal notranslate"><span class="pre">sin</span></code> are not actually a Python function, rather they are a Python class,
therefore <code class="docutils literal notranslate"><span class="pre">:func:`~.sin`</span></code> will not work.</p>
<p>2. Objects that are not included in <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">sympy</span> <span class="pre">import</span> <span class="pre">*</span></code>, for example,
<code class="docutils literal notranslate"><span class="pre">sympy.physics.vector.dynamicsymbols</span></code>.</p>
<p>This can be public API objects from submodules that are not included in the main
<code class="docutils literal notranslate"><span class="pre">sympy/__init__.py</span></code>, such as the physics submodule, or private API objects
that are not necessarily intended to be used by end-users (but should still be
documented). In this case, you must show the fully qualified name, so do not use
the <code class="docutils literal notranslate"><span class="pre">~.</span></code> syntax. For example,
<code class="docutils literal notranslate"><span class="pre">:obj:`sympy.physics.vector.dynamicsymbols()`</span></code>.</p>
<p>You may also write custom text that links to the documentation for something
using the following syntax <code class="docutils literal notranslate"><span class="pre">:obj:`custom</span> <span class="pre">text&lt;object&gt;`</span></code>. For example,
<code class="docutils literal notranslate"><span class="pre">:obj:`the</span> <span class="pre">sine</span> <span class="pre">function</span> <span class="pre">&lt;.sin&gt;`</span></code> produces the text “the sine function” that
links to the documentation for <code class="docutils literal notranslate"><span class="pre">sin</span></code>. Note that the <code class="docutils literal notranslate"><span class="pre">~</span></code> character should
not be used here.</p>
<p>Note that references in the <a class="reference internal" href="#style-guide-see-also"><span class="std std-ref">See Also</span></a> section of
the docstrings do not require the <code class="docutils literal notranslate"><span class="pre">:obj:</span></code> syntax.</p>
<p>If the resulting cross reference is written incorrectly, Sphinx will error when
building the docs with an error like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span> <span class="n">py</span><span class="p">:</span><span class="n">obj</span> <span class="n">reference</span> <span class="n">target</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span> <span class="n">expand</span>
</pre></div>
</div>
<p>Here are some troubleshooting tips to fix the errors:</p>
<ul class="simple">
<li><p>Make sure you have used the correct syntax, as described above.</p></li>
<li><p>Make sure you spelled the function name correctly.</p></li>
<li><p>Check if the function you are trying to cross-reference is actually included
in the Sphinx documentation. If it is not, Sphinx will not be able to create
a reference for it. In that case, you should add it to the appropriate RST
file as described in the <a class="reference internal" href="#style-guide-docstring-guidelines"><span class="std std-ref">Docstring Guidelines</span></a>.</p></li>
<li><p>If the function or object is not included in <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">sympy</span> <span class="pre">import</span>
<span class="pre">*</span></code>, you will need to use the fully qualified name, like
<code class="docutils literal notranslate"><span class="pre">sympy.submodule.submodule.function</span></code> instead of just <code class="docutils literal notranslate"><span class="pre">function</span></code>.</p></li>
<li><p>A fully qualified name must include the full submodule for a function all the
way down to the file. For example, <code class="docutils literal notranslate"><span class="pre">sympy.physics.vector.ReferenceFrame</span></code>
will not work (even though you can access it that way in code). It has to be
<code class="docutils literal notranslate"><span class="pre">sympy.physics.vector.frame.ReferenceFrame</span></code>.</p></li>
<li><p>If the thing you are referring to does not actually have somewhere to link
to, do not use the <code class="docutils literal notranslate"><span class="pre">:obj:</span></code> syntax. Instead, mark it as code using double
backticks. Examples of things that cannot be linked to are Python built in
functions like <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>, functions from other
modules outside of SymPy like <code class="docutils literal notranslate"><span class="pre">matplotlib.plot</span></code>, and variable or parameter
names that are specific to the text at hand. In general, if the object cannot
be accessed as <code class="docutils literal notranslate"><span class="pre">sympy.something.something.object</span></code>, it cannot be cross-
referenced and you should not use the <code class="docutils literal notranslate"><span class="pre">:obj:</span></code> syntax.</p></li>
<li><p>If you are using are using one of the <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cross-referencing-python-objects">type specific</a>
identifiers like <code class="docutils literal notranslate"><span class="pre">:func:</span></code>, be sure that the type for it is correct.
<code class="docutils literal notranslate"><span class="pre">:func:</span></code> only refers to Python functions. For classes, you need to use
<code class="docutils literal notranslate"><span class="pre">:class:</span></code>, and for methods on a class you need to use <code class="docutils literal notranslate"><span class="pre">:method:</span></code>. In
general, it is recommended to use <code class="docutils literal notranslate"><span class="pre">:obj:</span></code>, as this will work for any type
of object.</p></li>
<li><p>If you cannot get the cross-referencing syntax to work, go ahead and submit
the pull request as is and ask the reviewers for help.</p></li>
</ul>
<p>You may also see errors like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span> <span class="n">more</span> <span class="n">than</span> <span class="n">one</span> <span class="n">target</span> <span class="n">found</span> <span class="k">for</span> <span class="n">cross</span><span class="o">-</span><span class="n">reference</span> <span class="s1">&#39;subs()&#39;</span><span class="p">:</span>
<span class="n">sympy</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">Basic</span><span class="o">.</span><span class="n">subs</span><span class="p">,</span> <span class="n">sympy</span><span class="o">.</span><span class="n">matrices</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">MatrixCommon</span><span class="o">.</span><span class="n">subs</span><span class="p">,</span>
<span class="n">sympy</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">Vector</span><span class="o">.</span><span class="n">subs</span><span class="p">,</span>
<span class="n">sympy</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">dyadic</span><span class="o">.</span><span class="n">Dyadic</span><span class="o">.</span><span class="n">subs</span>
</pre></div>
</div>
<p>for instance, from using <code class="docutils literal notranslate"><span class="pre">:obj:`~.subs`</span></code>. This means that the <code class="docutils literal notranslate"><span class="pre">.</span></code> is not
sufficient to find the function, because there are multiple names in SymPy
named <code class="docutils literal notranslate"><span class="pre">subs</span></code>. In this case, you need to use the fully qualified name. You can
still use <code class="docutils literal notranslate"><span class="pre">~</span></code> to make it shortened in the final text, like
<code class="docutils literal notranslate"><span class="pre">:obj:`~sympy.core.basic.Basic.subs`</span></code>.</p>
<p>The line numbers for warnings in Python files are relative to the top of the
docstring, not the file itself. The line numbers are often not completely
correct, so you will generally have to search the docstring for the part that
the warning is referring to. This is due to a bug in Sphinx.</p>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="debug.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Debugging</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="documentation-style-guide.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">General Guidelines</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022 SymPy Development Team.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>